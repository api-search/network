{% if page.header.image %}
    {% assign image = page.header.image %}
{% endif %}

{% if page.header.align %}
    {% assign align = page.header.align %}
{% else %}
    {% assign align = "center" %}
{% endif %}

<header class="uk-background-{{ align }}-center uk-background-cover" style="{% if page.header.background %}background-color: {{ page.header.background }};{% endif %}{% if page.header.image %} background-image: url({% if image contains 'http' %}{{ image }}{% else %}{{ image }}{% endif %});{% endif %}">
    <div class="uk-overlay-header" style="{% if page.header.overlay %}background: {{ page.header.overlay }};{% endif %}">

        {% include navbar.html %}

        <div class="uk-section section-hero uk-position-relative" data-uk-scrollspy="cls: uk-animation-slide-bottom-medium; repeat: true" style="border: 1px solid #FFF; padding-top: 5px; padding-bottom: 25px;">
            <div class="uk-container uk-container-small">
                {% if page.hero.image %}
                <p class="hero-image uk-text-center"><img src="{{ page.hero.image }}" alt="Hero"></p>
                {% endif %}            
                {% if page.hero.subtitle %}<p class="uk-text-lead uk-text-center" style="font-size: 24px; margin-top: 35px;">{{ page.hero.subtitle }}</p>{% endif %}

                {% if page.hero.search %}
                <div class="hero-search">

                    <!-- Html Elements for Search -->
                    <div class="uk-position-relative">
                        <form class="uk-search uk-search-default uk-width-1-1" name="search-hero" onsubmit="return false;">
                            <span class="uk-search-icon-flip" data-uk-search-icon></span>
                            <input id="search-hero" class="uk-search-input uk-box-shadow-large" type="search" placeholder="{{ site.data.translation[site.lang].search_placeholder | default: "Search for answers" }}" autocomplete="off">
                        </form>
                        <ul id="search-hero-results" class="uk-position-absolute uk-width-1-1 uk-list"></ul>
                    </div>

                    <script>
                    SimpleJekyllSearch({
                        searchInput: document.getElementById('search-hero'),
                        resultsContainer: document.getElementById('search-hero-results'),
                        noResultsText: '<li class="no-results">{{ site.data.translation[site.lang].search_no_results | default: "No results found" }}</li>',
                        searchResultTemplate: '<li style="padding-left: 25px;"><a href="/{slug}" title="Get More Info" style="color:#808080;  padding-right: 10px; padding-left: 2px;"><img src="assets/img/info.jpg" width="20" style="padding-bottom: 6px;"></a><a href="{url}" target="_blank" title="Visit the API" style="color:#808080; padding-right: 2px; padding-left: 2px; font-size: 20px;">{title}</a</li>',
                        json: "{{ '/search.json' | relative_url }}"
                    });

                    searchResults("search-hero");

                    </script>

                </div>
                {% endif %}

            </div>
        </div>
        <script>
            function slugify(str) {
            return String(str)
                .normalize('NFKD') // split accented characters into their base characters and diacritical marks
                .replace(/[\u0300-\u036f]/g, '') // remove all the accents, which happen to be all in the \u03xx UNICODE block.
                .trim() // trim leading or trailing whitespace
                .toLowerCase() // convert to lowercase
                .replace(/[^a-z0-9 -]/g, '') // remove non-alphanumeric characters
                .replace(/\s+/g, '-') // replace spaces with hyphens
                .replace(/-+/g, '-'); // remove consecutive hyphens
            }    
        </script>
    </div>
</header>
